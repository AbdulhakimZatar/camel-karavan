- route:
    id: route-6e45
    from:
      uri: rest:get:/planned:/order
      id: from-3357
      steps:
        - removeHeader:
            name: Exchange.HTTP_PATH
            id: removeHeader-48cd
        - to:
            uri: >-
              https://sandbox.api.sap.com/s4hanacloud/sap/opu/odata4/sap/api_plannedorder/srvd_a2x/sap/plannedorder/0001/PlannedOrderCapacity
            id: to-b05e
            parameters:
              bridgeEndpoint: true
              httpMethod: GET
              copyHeaders: true
- route:
    id: route-b03b
    from:
      uri: rest:get:/sharepoint:/items
      id: from-ca3b
      steps:
        - removeHeader:
            name: Exchange.HTTP_PATH
            id: removeHeader-c23b
        - transform:
            id: transform-a366
            expression:
              simple:
                expression: >-
                  grant_type=client_credentials&client_id=${header.client-id}@${header.tenant-id}&client_secret=${header.client-secret}&resource=00000003-0000-0ff1-ce00-000000000000/neomsa.sharepoint.com@${header.tenant-id}
                id: simple-2e65
        - setHeader:
            name: Content-Type
            id: setHeader-20d7
            expression:
              constant:
                expression: application/x-www-form-urlencoded
                id: constant-ec17
        - setHeader:
            name: Exchange.HTTP_PATH
            id: setHeader-85a6
            expression:
              simple:
                expression: ${header.tenant-id}/tokens/OAuth/2
                id: simple-6b87
        - to:
            uri: https://accounts.accesscontrol.windows.net/
            id: to-0321
            parameters:
              bridgeEndpoint: true
              httpMethod: POST
              clearExpiredCookies: true
        - removeHeaders:
            pattern: CamelHttp*
            id: removeHeaders-6697
        - transform:
            id: transform-feba
            expression:
              jsonpath:
                expression: $.access_token
                id: jsonpath-320b
        - setHeader:
            name: Authorization
            id: setHeader-7d14
            expression:
              simple:
                expression: Bearer ${body}
                id: simple-b854
        - setHeader:
            name: Exchange.HTTP_PATH
            id: setHeader-2f35
            expression:
              simple:
                expression: getbytitle('${header.title}')/items?$filter=${header.filter}
                id: simple-4c66
        - setHeader:
            name: Accept
            id: setHeader-25bb
            expression:
              constant:
                expression: application/json;odata= nometadata
                id: constant-f0a3
        - setHeader:
            name: Content-Type
            id: setHeader-3bc9
            expression:
              constant:
                expression: application/json;odata=verbose
                id: constant-2838
        - to:
            uri: >-
              https://neomsa.sharepoint.com/sites/OXAGONWarehouseManagementSystem/_api/web/lists/
            id: to-10a2
            parameters:
              bridgeEndpoint: true
              httpMethod: GET
              copyHeaders: true
              clearExpiredCookies: true
        - log:
            message: Response == ${body}
            id: log-ba9b
        - transform:
            id: transform-28e4
            expression:
              simple:
                expression: ${body}
                id: simple-c092


- route:
    id: route-6e48
    from:
      uri: rest:get:/planned:/orderNew
      id: from-3358
      steps:
        - removeHeader:
            name: Exchange.HTTP_PATH
            id: removeHeader-48cz
        - to:
            uri: >-
              https://sandbox.api.sap.com/s4hanacloud/sap/opu/odata4/sap/api_plannedorder/srvd_a2x/sap/plannedorder/0001/PlannedOrderCapacity
            id: to-b05s
            parameters:
              bridgeEndpoint: true
              httpMethod: GET
              copyHeaders: true